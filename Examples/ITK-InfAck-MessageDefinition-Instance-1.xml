<?xml version="1.0" encoding="UTF-8"?>
<MessageDefinition xmlns="http://hl7.org/fhir" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
 <meta>
  <profile value="https://fhir.nhs.uk/STU3/StructureDefinition/ITK-MessageDefinition-1"/>
 </meta>
 <url value="https://fhir.nhs.uk/STU3/MessageDefinition/ITK-InfAck-MessageDefinition-1"/>
 <identifier>
  <system value="https://tools.ietf.org/html/rfc4122"/>
  <value value="ae8173ff-bb62-40a2-b7e3-74e81171341d">
  </value>
 </identifier>
 <version value="1.0.0"/>
 <title value="ITK Infrastructure Acknowledgement Message Definition"/>
 <status value="active"/>
 <date value="2018-01-05T14:05:00+00:00"/>
 <event>
  <!--identifies the payload as an ITK Infrastructure Acknowledgement-->
  <system value="https://fhir.nhs.uk/STU3/CodeSystem/ITK-MessageEvent-2"/>
  <code value="ITK001M"/>
  <display value="ITK Infrastructure Acknowledgement"/>
 </event>
 <category value="Notification"/>
 <focus>
  <code value="Bundle"/>
  <profile>
   <extension url="https://fhir.nhs.uk/STU3/StructureDefinition/Extension-ITK-BundledAssets-1">
    <extension url="utilisedProfile">
     <extension url="reference">
      <valueReference>
       <reference value="https://fhir.nhs.uk/STU3/StructureDefinition/ITK-MessageHeader-2"/>
      </valueReference>
     </extension>
     <extension url="version">
      <valueString value="2.0.0">
      </valueString>
     </extension>
    </extension>
    <extension url="utilisedProfile">
     <extension url="reference">
      <valueReference>
       <reference value="https://fhir.nhs.uk/STU3/StructureDefinition/CareConnect-ITK-Header-Practitioner-1"/>
      </valueReference>
     </extension>
     <extension url="version">
      <valueString value="1.0.0">
      </valueString>
     </extension>
    </extension>
    <extension url="utilisedProfile">
     <extension url="reference">
      <valueReference>
       <reference value="https://fhir.nhs.uk/STU3/StructureDefinition/CareConnect-ITK-Header-Organization-1"/>
      </valueReference>
     </extension>
     <extension url="version">
      <valueString value="1.0.0">
      </valueString>
     </extension>
    </extension>
    <extension url="utilisedProfile">
     <extension url="reference">
      <valueReference>
       <reference value="https://fhir.nhs.uk/STU3/StructureDefinition/ITK-Infack-OperationOutcome-1"/>
      </valueReference>
     </extension>
     <extension url="version">
      <valueString value="1.0.0">
      </valueString>
     </extension>
    </extension>
    <!-- allows for any profile or profiles which make up the payload -->
    <extension url="utilisedProfile">
     <extension url="reference">
      <valueReference>
       <reference value="https://fhir.nhs.uk/STU3/StructureDefinition/any"/>
      </valueReference>
     </extension>
     <extension url="version">
      <valueString value="any">
      </valueString>
     </extension>
    </extension>
   </extension>
   <extension url="utilisedExtension">
    <extension url="reference">
     <valueReference>
      <reference value="https://fhir.nhs.uk/STU3/StructureDefinition/Extension-ITK-MessageHandling-2"/>
     </valueReference>
    </extension>
    <extension url="version">
     <valueString value="1.1.0">
     </valueString>
    </extension>
   </extension>
   <!--Note, any extension to be used in the payload, is not needed for the infrastructure acknowledgement -->
   <extension url="utilisedValueSet">
    <extension url="reference">
     <valueReference>
      <reference value="https://fhir.nhs.uk/STU3/ValueSet/ITK-MessageEvent-2"/>
     </valueReference>
    </extension>
    <extension url="version">
     <valueString value="1.0.0">
     </valueString>
    </extension>
   </extension>
   <extension url="utilisedValueSet">
    <extension url="reference">
     <valueReference>
      <reference value="https://fhir.nhs.uk/STU3/ValueSet/ITK-MessageEvent-2"/>
     </valueReference>
    </extension>
    <extension url="version">
     <valueString value="1.0.0">
     </valueString>
    </extension>
   </extension>
   <extension url="utilisedValueSet">
    <extension url="reference">
     <valueReference>
      <reference value="http://hl7.org/fhir/ValueSet/issue-severity"/>
     </valueReference>
    </extension>
    <extension url="version">
     <valueString value="3.0.1">
     </valueString>
    </extension>
   </extension>
   <extension url="utilisedValueSet">
    <extension url="reference">
     <valueReference>
      <reference value="http://hl7.org/fhir/ValueSet/issue-type"/>
     </valueReference>
    </extension>
    <extension url="version">
     <valueString value="3.0.1">
     </valueString>
    </extension>
   </extension>
   <extension url="utilisedValueSet">
    <extension url="reference">
     <valueReference>
      <reference value="https://fhir.nhs.uk/STU3/ValueSet/ITK-InfAcknowledgement-1"/>
     </valueReference>
    </extension>
    <extension url="version">
     <valueString value="1.1.0">
     </valueString>
    </extension>
   </extension>
   <!--Note, any valueset to be used in the payload, is not needed for the infrastructure acknowledgement-->
   <!-- Note, snomed ct to be used in the payload, is not needed for the infrastructure acknowledgement-->
   <extension url="utilisedCodeSytem">
    <extension url="reference">
     <valueReference>
      <reference value="https://fhir.nhs.uk/STU3/CodeSystem/ITK-MessageEvent-2"/>
     </valueReference>
    </extension>
    <extension url="version">
     <valueString value="2.0.0">
     </valueString>
    </extension>
   </extension>
   <extension url="utilisedCodeSytem">
    <extension url="reference">
     <valueReference>
      <reference value="http://hl7.org/fhir/issue-severity"/>
     </valueReference>
    </extension>
    <extension url="version">
     <valueString value="3.0.1">
     </valueString>
    </extension>
   </extension>
   <extension url="utilisedCodeSytem">
    <extension url="reference">
     <valueReference>
      <reference value="http://hl7.org/fhir/issue-type"/>
     </valueReference>
    </extension>
    <extension url="version">
     <valueString value="3.0.1">
     </valueString>
    </extension>
   </extension>
   <extension url="utilisedCodeSytem">
    <extension url="reference">
     <valueReference>
      <reference value="https://fhir.nhs.uk/STU3/CodeSystem/ITK-Acknowledgement-1"/>
     </valueReference>
    </extension>
    <extension url="version">
     <valueString value="1.1.0">
     </valueString>
    </extension>
   </extension>
   <!--Note any code system used in payload, is not needed for the infrastructure acknowledgement-->
   <extension url="utilisedConceptMap">
    <extension url="reference">
     <valueReference>
      <reference value="https://fhir.nhs.uk/STU3/ConceptMap/any"/>
     </valueReference>
    </extension>
    <extension url="version">
     <valueString value="any">
     </valueString>
    </extension>
   </extension>
   <reference value="https://fhir.nhs.uk/STU3/StructureDefinition/ITK-Bundle-1"/>
  </profile>
 </focus>
 <!--No Allowed Response For Infrastructure Acknowledgement-->
</MessageDefinition>
