<?xml version="1.0" encoding="UTF-8"?>
<OperationDefinition xmlns="http://hl7.org/fhir">
	<id value="DCH-EventStoreQuery-Operation-1"/>
	<meta>
		<lastUpdated value="2018-03-19T00:00:00+01:00"/>
	</meta>
	<url value="https://fhir.nhs.uk/STU3/OperationDefinition/DCH-EventStoreQuery-Operation-1"/>
	<version value="1.0.0"/>
	<name value="DCH-EventStoreQuery-Operation-1"/>
	<status value="draft"/>
	<kind value="operation"/>
	<date value="2018-03-19"/>
	<publisher value="NHS Digital"/>
	<contact>
		<name value="Interoperability Team"/>
		<telecom>
			<system value="email"/>
			<value value="interoperabilityteam@nhs.net"/>
			<use value="work"/>
		</telecom>
	</contact>
	<description value="This Operation definition has been constrained to represent the input and output parameters to fulfill a Digital Child Health Event Store Query."/>
	<code value="dch.eventstorequery"/>
	<resource value="Bundle"/>
	<system value="false"/>
	<type value="true"/>
	<instance value="false"/>
	<parameter>
		<name value="nHSNumber"/>
		<use value="in"/>
		<min value="1"/>
		<max value="1"/>
		<documentation value="NHS Number of the Patient the event is about."/>
		<searchType value="token"/>
	</parameter>
	<parameter>
		<name value="eventType"/>
		<use value="in"/>
		<min value="0"/>
		<max value="*"/>
		<documentation value="The code representing the event."/>
		<searchType value="token"/>
		<binding>
			<strength value="required"/>
			<valueSetUri value="https://fhir.nhs.uk/STU3/ValueSet/DCH-ChildHealthEventType-1"/>
		</binding>
	</parameter>
	<parameter>
		<name value="ageRange"/>
		<use value="in"/>
		<min value="0"/>
		<max value="1"/>
		<documentation value="The Patient age range in years. Searches for patients based on age as calculated based on current date and date of birth. "/>
		<part>
			<name value="minAge"/>
			<use value="in"/>
			<min value="0"/>
			<max value="1"/>
			<documentation value="The minimum age range applicable."/>
			<searchType value="number"/>
			<profile>
				<reference value="http://hl7.org/fhir/SearchParameter/patient-extensions-Patient-age"/>
			</profile>
		</part>
		<part>
			<name value="maxAge"/>
			<use value="in"/>
			<min value="0"/>
			<max value="1"/>
			<documentation value="The maximum age range applicable."/>
			<searchType value="number"/>
			<profile>
				<reference value="http://hl7.org/fhir/SearchParameter/patient-extensions-Patient-age"/>
			</profile>
		</part>
	</parameter>
	<parameter>
		<name value="dateRange"/>
		<use value="in"/>
		<min value="0"/>
		<max value="1"/>
		<documentation value="The event date range of interest."/>
		<part>
			<name value="minDate"/>
			<use value="in"/>
			<min value="0"/>
			<max value="1"/>
			<documentation value="The earliest date applicable."/>
			<searchType value="date"/>
		</part>
		<part>
			<name value="maxDate"/>
			<use value="in"/>
			<min value="0"/>
			<max value="1"/>
			<documentation value="The latest date applicable."/>
			<searchType value="date"/>
		</part>
	</parameter>
	<parameter>
		<name value="response"/>
		<use value="out"/>
		<min value="1"/>
		<max value="1"/>
		<documentation value="The searchset bundle resource that has been returned in response to the given input parameters"/>
		<type value="Bundle"/>
		<profile>
			<reference value="https://fhir.nhs.uk/STU3/StructureDefinition/DCH-Searchset-Bundle-1"/>
		</profile>
	</parameter>
</OperationDefinition>
